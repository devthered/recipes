var recipe_headers = document.getElementsByClassName("recipe-header");
for(var i = 0; i < recipe_headers.length; i++)
{
  var header = recipe_headers.item(i);
  // if title link contains recipe id, we found the right recipe card
  var title = header.getElementsByClassName("recipe-title")[0];
  if (title.toString().indexOf("<%= escape_javascript(@recipe.id.to_s) %>") != -1)
  {
    var new_class = "like-icon <%= escape_javascript(liked_by_current_user?(@recipe) ? 'heart-closed' : 'heart-open') %>";
    var new_title = "<%= escape_javascript(liked_by_current_user?(@recipe) ? 'Saved' : 'Click to Save') %>";
    header.getElementsByClassName("like-icon")[0].setAttribute("class", new_class);
    header.getElementsByClassName("like-icon")[0].setAttribute("title", new_title);
  }
}