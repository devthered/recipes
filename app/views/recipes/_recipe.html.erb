<div class="recipe <%= recipe.genre_class %>">
  <div class="recipe-header">
    <%= image_tag asset_path("genres/#{recipe.genre}.png"), alt: recipe.genre, title: recipe.genre, class: 'genre-icon' %>
    <%= link_to recipe.title, recipe, class: 'recipe-title white-link' %>
    <div class="spacer"></div>
    <%= link_to recipe.user.name, recipe.user, class: 'recipe-author white-link' %>
    <% if recipe.user.name != recipe.source %>
      <p class="recipe-author"><%= recipe.source %></p>
    <% end %>
  </div>
  <div class="recipe-body">
    <% if !recipe.servings.nil? %>
      <i>Serves <%= recipe.servings %>.</i>
      <div class="small-spacer"></div>
    <% end %>
    <% if (!recipe.time_hours.nil? and recipe.time_hours > 0) or (!recipe.time_minutes.nil? and recipe.time_minutes > 0) %>
      <i>Takes about <%= distance_of_time_in_words(60 * recipe.time_minutes + 3600 * recipe.time_hours)  %>.</i>
      <div class="small-spacer"></div>
    <% end %>

    <ul class="ingredients">
      <% recipe.ingredients.each do |ingredient| %>
        <li><%= ingredient %></li>
      <% end %>
    </ul>
    <%= simple_format(recipe.instructions) %>
    <% if current_user == recipe.user %>
      <%= link_to 'Edit Recipe', edit_recipe_path(recipe), class: 'blue-link', title: 'Edit Recipe' %>
    <% end %>
  </div>
</div>